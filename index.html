<!DOCTYPE html>
<html lang="ru">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width,initial-scale=1.0,maximum-scale=1.0,user-scalable=no,viewport-fit=cover">
  <title>TrdMax</title>

  <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;600;800&display=swap" rel="stylesheet">
  <script src="https://telegram.org/js/telegram-web-app.js"></script>

  <style>

/* =========================
   PAYWALL (Corporate)
   ========================= */
.paywall {
  max-height: 62vh;
  overflow-y: auto;
  padding-right: 6px;
  animation: fadeUp .28s ease-out both;
}

@keyframes fadeUp {
  from { opacity: 0; transform: translateY(10px); filter: blur(6px); }
  to   { opacity: 1; transform: translateY(0); filter: blur(0); }
}

.pw-top {
  display: flex;
  align-items: flex-start;
  justify-content: space-between;
  gap: 10px;
  margin-bottom: 12px;
}

.pw-title {
  font-size: 16px;
  font-weight: 800;
  letter-spacing: .2px;
  line-height: 1.25;
}

.pw-sub {
  margin-top: 6px;
  font-size: 13px;
  opacity: .72;
  line-height: 1.45;
}

.pw-badges {
  display: flex;
  gap: 8px;
  flex-wrap: wrap;
  margin: 14px 0 14px;
}

.pw-badge {
  font-size: 11px;
  padding: 8px 10px;
  border-radius: 999px;
  background: rgba(255,255,255,.04);
  border: 1px solid rgba(255,255,255,.08);
  opacity: .92;
  line-height: 1;
  white-space: nowrap;
}

.pw-badge.green {
  border-color: rgba(0,255,136,.25);
  background: rgba(0,255,136,.06);
  box-shadow: 0 0 22px rgba(0,255,136,.10);
}

.pw-badge.red {
  border-color: rgba(255,0,60,.22);
  background: rgba(255,0,60,.05);
  box-shadow: 0 0 22px rgba(255,0,60,.08);
}

.pw-card {
  background: rgba(255,255,255,.035);
  border: 1px solid rgba(255,255,255,.08);
  border-radius: 18px;
  padding: 14px 14px;
  margin: 12px 0 16px;
}

.pw-list {
  margin-top: 10px;
  display: grid;
  gap: 8px;
  font-size: 13px;
  line-height: 1.45;
  opacity: .9;
}

.pw-li {
  display: grid;
  grid-template-columns: 18px 1fr;
  gap: 10px;
  align-items: start;
}

.pw-dot {
  width: 10px;
  height: 10px;
  border-radius: 3px;
  margin-top: 3px;
  border: 1px solid rgba(0,255,136,.35);
  box-shadow: 0 0 14px rgba(0,255,136,.18);
  background: rgba(0,255,136,.08);
  transform: rotate(45deg);
}

.pw-foot {
  margin: 14px 0 16px;
  font-size: 12px;
  opacity: .65;
  line-height: 1.45;
}

.pw-actions {
  display: grid;
  gap: 12px;
  margin-top: 6px;
}

/* CTA button (–≥–ª–∞–≤–Ω–∞—è) ‚Äî —á—Ç–æ–±—ã –Ω–µ –æ–±—Ä–µ–∑–∞–ª–∞—Å—å –∏ –≤—ã–≥–ª—è–¥–µ–ª–∞ –¥–æ—Ä–æ–≥–æ */
.btn-cta {
  background: linear-gradient(135deg, rgba(0,255,136,.22), rgba(0,255,136,.06));
  border: 1px solid rgba(0,255,136,.38);
  box-shadow:
    0 0 30px rgba(0,255,136,.28),
    inset 0 0 14px rgba(0,255,136,.14);
  text-align: center;
  white-space: normal;       /* —á—Ç–æ–±—ã —Ç–µ–∫—Å—Ç –ø–µ—Ä–µ–Ω–æ—Å–∏–ª—Å—è */
  line-height: 1.2;          /* —Ñ–∏–∫—Å –æ–±—Ä–µ–∑–∞–Ω–∏—è */
  padding: 18px 16px;        /* —á—É—Ç—å –∂–∏—Ä–Ω–µ–µ */
}

.btn-cta:hover {
  box-shadow:
    0 0 60px rgba(0,255,136,.42),
    inset 0 0 22px rgba(0,255,136,.24);
}

.btn-ghost {
  background: rgba(255,255,255,.03);
  border: 1px solid rgba(255,255,255,.10);
  opacity: .92;
}

/* –∫—Ä–∞—Å–∏–≤—ã–π —Å–∫—Ä–æ–ª–ª –≤ paywall */
.paywall::-webkit-scrollbar { width: 6px; }
.paywall::-webkit-scrollbar-thumb {
  background: rgba(0,255,136,.28);
  border-radius: 6px;
}

    /* =========================================================
       TrdMax ‚Äî 2026 Premium Mini App Home (Black / Green / Red)
       - Buttons untouched
       - Animated background: aurora + market wave + particles + grid
       ========================================================= */

    * { margin: 0; padding: 0; box-sizing: border-box; font-family: 'Inter', sans-serif }
    html, body { height: 100% }
    html,body{
      touch-action: manipulation;
    }

    :root {
      /* safe areas (Telegram) */
      --sa-top: var(--tg-safe-area-inset-top, 0px);
      --sa-right: var(--tg-safe-area-inset-right, 0px);
      --sa-bottom: var(--tg-safe-area-inset-bottom, 0px);
      --sa-left: var(--tg-safe-area-inset-left, 0px);

      --csa-top: var(--tg-content-safe-area-inset-top, 0px);
      --csa-right: var(--tg-content-safe-area-inset-right, 0px);
      --csa-bottom: var(--tg-content-safe-area-inset-bottom, 0px);
      --csa-left: var(--tg-content-safe-area-inset-left, 0px);

      /* palette */
      --black: #000;
      --card: rgba(15, 15, 15, .55);
      --text: #fff;

      /* accents */
      --g: rgba(0, 255, 136, 1);
      --gSoft: rgba(0, 255, 136, .22);
      --gSoft2: rgba(0, 255, 136, .12);
      --r: rgba(255, 0, 60, 1);
      --rSoft: rgba(255, 0, 60, .18);
    }

    body {
      min-height: 100vh;
      display: flex;
      align-items: center;
      justify-content: center;
      background: var(--black);
      color: var(--text);
      overflow: hidden;
      -webkit-tap-highlight-color: transparent;

      padding:
        calc(var(--sa-top) + var(--csa-top))
        calc(var(--sa-right) + var(--csa-right))
        calc(var(--sa-bottom) + var(--csa-bottom))
        calc(var(--sa-left) + var(--csa-left));
    }

    /* =========================
       BACKGROUND CANVAS STACK
       ========================= */
    .bg {
      position: fixed;
      inset: 0;
      z-index: -10;
      background: #000;
      pointer-events: none;
      overflow: hidden;
    }

    /* One canvas (all layers drawn in JS for performance + control) */
    #fx {
      position: absolute;
      inset: 0;
      width: 100%;
      height: 100%;
      display: block;
    }

    /* vignette & subtle film grain overlay (pure CSS) */
    .vignette {
      position: absolute;
      inset: -10%;
      background:
        radial-gradient(1200px 800px at 50% 45%, rgba(0, 0, 0, .0), rgba(0, 0, 0, .65) 70%, rgba(0, 0, 0, .90) 100%);
      opacity: 1;
      mix-blend-mode: multiply;
    }

    .grain {
      position: absolute;
      inset: 0;
      opacity: .045;
      background-image:
        url('https://grainy-gradients.vercel.app/noise.svg');
      mix-blend-mode: overlay;
      filter: contrast(120%);
    }

    /* =========================
       CONTAINER (premium glass)
       ========================= */
    .container {
      position: relative;
      width: 340px;
      padding: 50px 40px;
      border-radius: 28px;

      background: var(--card);
      backdrop-filter: blur(50px) saturate(160%);
      -webkit-backdrop-filter: blur(50px) saturate(160%);

      border: 1px solid rgba(255, 255, 255, .08);
      box-shadow:
        0 2px 8px rgba(0, 0, 0, .4),
        0 30px 80px rgba(0, 0, 0, .6),
        0 0 60px rgba(0, 255, 136, .07);

      opacity: 0;
      transform: translateY(54px) scale(.95);
      animation: cardIn 980ms cubic-bezier(.16, 1, .3, 1) forwards;
      will-change: transform, opacity;
    }

    .container::before {
      content: "";
      position: absolute;
      inset: 0;
      border-radius: 28px;
      background:
        radial-gradient(circle at 20% 15%, rgba(255, 255, 255, .09), transparent 60%),
        radial-gradient(circle at 90% 90%, rgba(0, 255, 136, .06), transparent 55%);
      pointer-events: none;
    }

    .container::after {
      content: "";
      position: absolute;
      inset: 1px;
      border-radius: 27px;
      border: 1px solid rgba(255, 255, 255, .05);
      pointer-events: none;
    }

    @keyframes cardIn {
      0% { opacity: 0; transform: translateY(54px) scale(.95); filter: blur(10px) }
      70% { opacity: 1; transform: translateY(0) scale(1.02); filter: blur(0) }
      100% { opacity: 1; transform: translateY(0) scale(1); filter: blur(0) }
    }

    /* =========================
       LOGO
       ========================= */
    .logo-wrap{
      display:flex;
      align-items:center;
      justify-content:center;
      gap:10px;
      margin-bottom:10px; /* Adjust margin as needed */
    }

    .logo-symbol{
      width:14px;
      height:14px;
      border:2px solid rgba(0,255,136,.7);
      border-radius:4px;
      transform:rotate(45deg);
      box-shadow:0 0 12px rgba(0,255,136,.3);
    }

    .logo{
      font-size:36px;
      font-weight:800;
      letter-spacing:1px;
      text-align:center;

      background: linear-gradient(90deg, rgba(0, 255, 136, 1), rgba(255, 0, 60, 1));
      background-size: 200% 100%;
      -webkit-background-clip: text;
      -webkit-text-fill-color: transparent;

      animation: shimmer 6.5s linear infinite;
      text-shadow:
        0 0 16px rgba(0, 255, 136, .20),
        0 0 34px rgba(255, 0, 60, .10);
      transform: translateZ(0);
    }
    @keyframes shimmer {
      0% { background-position: 0% 50% }
      100% { background-position: 200% 50% }
    }

    .subtitle {
      text-align: center;
      opacity: .62;
      margin: 10px 0 35px;
      font-size: 14px;
      letter-spacing: .2px;
    }

    /* =========================
       DIVIDER
       ========================= */
    .divider{
      height:1px;
      margin:20px 0 25px;
      background:linear-gradient(
        90deg,
        transparent,
        rgba(255,255,255,.12),
        transparent
      );
      opacity:.4;
    }

    /* =========================
       SYSTEM STATUS
       ========================= */
    .system-status{
      position:absolute;
      top:14px;
      right:18px;
      font-size:11px;
      opacity:.55;
      display:flex;
      align-items:center;
      gap:6px;
      letter-spacing:.5px;
    }

    .system-status::before{
      content:"";
      width:6px;
      height:6px;
      border-radius:50%;
      background:#00ff88;
      box-shadow:0 0 8px rgba(0,255,136,.6);
    }


/* =========================================================
   BUTTONS ‚Äî MODERN LIQUID GLASS 2026
   ========================================================= */

.btn {
  width: 100%;
  padding: 16px;
  margin-bottom: 14px;
  border-radius: 20px;
  position: relative;
  overflow: hidden;

  font-weight: 600;
  color: #fff;
  cursor: pointer;

  background: rgba(255,255,255,.03);
  backdrop-filter: blur(30px) saturate(140%);
  -webkit-backdrop-filter: blur(30px) saturate(140%);

  border: 1px solid rgba(255,255,255,.06);

  transition:
    transform .35s cubic-bezier(.16,1,.3,1),
    background .4s ease,
    box-shadow .4s ease,
    border-color .4s ease;
}

/* subtle breathing */
.btn {
  animation: btnFloat 6s ease-in-out infinite;
}

@keyframes btnFloat {
  0% { transform: translateY(0px); }
  50% { transform: translateY(-2px); }
  100% { transform: translateY(0px); }
}

/* inner light layer */
.btn::before {
  content: "";
  position: absolute;
  inset: 0;
  border-radius: 20px;

  background:
    radial-gradient(
      circle at 30% 30%,
      rgba(0,255,136,.12),
      transparent 60%
    ),
    radial-gradient(
      circle at 70% 70%,
      rgba(255,0,60,.08),
      transparent 70%
    );

  opacity: .6;
  transition: opacity .4s ease;
}

/* glass highlight line */
.btn::after {
  content: "";
  position: absolute;
  top: 0;
  left: -100%;
  width: 50%;
  height: 100%;
  background: linear-gradient(
    100deg,
    transparent,
    rgba(255,255,255,.25),
    transparent
  );
  transform: skewX(-20deg);
  animation: glassSweep 7s linear infinite;
  opacity: .3;
}

@keyframes glassSweep {
  0% { left: -100%; }
  100% { left: 150%; }
}

/* hover / tap */
.btn:hover {
  background: rgba(255,255,255,.06);
  border-color: rgba(0,255,136,.25);
  box-shadow:
    0 10px 40px rgba(0,0,0,.5),
    0 0 40px rgba(0,255,136,.12);
  transform: translateY(-6px) scale(1.03);
}

.btn:hover::before {
  opacity: 1;
}

.btn:active {
  transform: scale(.96);
  box-shadow: 0 5px 20px rgba(0,0,0,.6);
}

/* primary button deeper */
.btn:first-of-type {
  background: linear-gradient(
    135deg,
    rgba(0,255,136,.08),
    rgba(0,255,136,.03)
  );
  border: 1px solid rgba(0,255,136,.25);
  box-shadow:
    0 0 40px rgba(0,255,136,.15),
    inset 0 0 20px rgba(0,255,136,.1);
}

    /* =========================
       BUTTON HIERARCHY
       ========================= */
    .btn:first-of-type {
      background: rgba(0, 255, 136, .08);
      box-shadow:
        0 0 25px rgba(0, 255, 136, .25),
        inset 0 0 10px rgba(0, 255, 136, .08);
    }

    .btn:first-of-type:hover {
      box-shadow:
        0 0 45px rgba(0, 255, 136, .35),
        inset 0 0 14px rgba(0, 255, 136, .15);
    }


    /* =========================
       CARD LIGHT REACTION
       ========================= */
    .container.light-active {
      box-shadow:
        0 2px 8px rgba(0, 0, 0, .4),
        0 30px 80px rgba(0, 0, 0, .6),
        0 0 80px rgba(0, 255, 136, .12);
    }


    /* =========================
       Reduced motion support
       ========================= */
    @media (prefers-reduced-motion: reduce) {
      .container,
      .logo { animation: none !important }
      .container { opacity: 1; transform: none; filter: none }
      .grain { opacity: .02 }
    }

/* =========================================================
   CORE DEPTH UPGRADE ‚Äî 2026 PREMIUM
   ========================================================= */

/* –¥–æ–±–∞–≤–ª—è–µ–º —Å—Ü–µ–Ω–µ –ø–µ—Ä—Å–ø–µ–∫—Ç–∏–≤—É */
body {
  perspective: 1400px;
}

/* –ø–µ—Ä–µ–ø–∏—Å—ã–≤–∞–µ–º –ø–æ–≤–µ–¥–µ–Ω–∏–µ –∫–∞—Ä—Ç–æ—á–∫–∏ */
.container {
  transform-style: preserve-3d;
  animation:
    cardIn 980ms cubic-bezier(.16,1,.3,1) forwards,
    coreFloat 9s ease-in-out infinite 1s;

  box-shadow:
    0 20px 60px rgba(0,0,0,.6),
    0 60px 160px rgba(0,0,0,.5),
    0 0 80px rgba(0,255,136,.08);
}

/* –ø–ª–∞–≤–Ω–æ–µ –ø–∞—Ä–µ–Ω–∏–µ */
@keyframes coreFloat {
  0% {
    transform: translateY(0px) rotateX(0deg) rotateY(0deg);
  }
  50% {
    transform: translateY(-8px) rotateX(1.5deg) rotateY(-1.5deg);
  }
  100% {
    transform: translateY(0px) rotateX(0deg) rotateY(0deg);
  }
}

/* —ç–Ω–µ—Ä–≥–µ—Ç–∏—á–µ—Å–∫–æ–µ —Å–≤–µ—á–µ–Ω–∏–µ —Å–Ω–∏–∑—É */
.container::before {
  animation: energyPulse 7s ease-in-out infinite;
}

@keyframes energyPulse {
  0% { opacity: .5; }
  50% { opacity: 1; }
  100% { opacity: .5; }
}

/* –º—è–≥–∫–∏–π glow –ø–æ–¥ –∫–∞—Ä—Ç–æ—á–∫–æ–π */
.container::after {
  box-shadow:
    0 50px 150px rgba(0,255,136,.15),
    0 80px 200px rgba(0,0,0,.6);
}

  </style>
</head>

<body>
  <div class="bg">
    <canvas id="fx"></canvas>
    <div class="vignette"></div>
    <div class="grain"></div>
  </div>

<div class="container" id="card">
  <div class="logo-wrap">
    <div class="logo-symbol"></div>
    <div class="logo">TrdMax</div>
  </div>

  <div class="subtitle">Premium Trading Platform</div>

  <!-- —Ç–æ–Ω–∫–∞—è –∫–æ—Ä–ø–æ—Ä–∞—Ç–∏–≤–Ω–∞—è "—à–∞–ø–∫–∞ —Å—Ç–∞—Ç—É—Å–∞" -->
  <div style="
    display:flex; align-items:center; justify-content:space-between;
    margin: 0 2px 12px;
    padding: 10px 12px;
    border-radius: 16px;
    background: rgba(255,255,255,.03);
    border: 1px solid rgba(255,255,255,.08);
  ">
    <div style="display:flex; align-items:center; gap:8px; font-size:11px; opacity:.78; letter-spacing:.3px;">
      <span style="
        width:8px; height:8px; border-radius:50%;
        background:#00ff88; box-shadow:0 0 10px rgba(0,255,136,.65);
        display:inline-block;
      "></span>
      System Online
    </div>

    <div style="font-size:11px; opacity:.55; letter-spacing:.3px;">
      Verified ‚Ä¢ Risk Control
    </div>
  </div>

  <div class="divider"></div>

  <!-- –í–ê–ñ–ù–û: –æ—Å—Ç–∞–≤–ª—è–µ–º —Ä–æ–≤–Ω–æ 3 –∫–Ω–æ–ø–∫–∏ .btn ‚Äî —Ç–≤–æ–π JS –∏—Ö —Ç–∞–∫ –∏ –æ–∂–∏–¥–∞–µ—Ç -->
  <button class="btn">‚ñ∂ –ù–∞—á–∞—Ç—å</button>
  <button class="btn">üìä –û –ø—Ä–æ–µ–∫—Ç–µ</button>
  <button class="btn">‚úâ –ü–æ–¥–¥–µ—Ä–∂–∫–∞</button>

  <!-- –∫–æ—Ä–ø–æ—Ä–∞—Ç–∏–≤–Ω—ã–π —Ñ—É—Ç–µ—Ä (–±–µ–∑ .btn, —á—Ç–æ–±—ã –Ω–µ –ª–æ–º–∞—Ç—å bindButtons) -->
  <div style="margin-top:12px; text-align:center; font-size:11px; opacity:.48; line-height:1.4;">
    Compliance ‚Ä¢ Privacy ‚Ä¢ Terms<br>
    <span style="opacity:.65;">¬© TrdMax Platform</span>
  </div>
</div>

<script>
  /* =========================================================
     Telegram Mini App setup
     ========================================================= */
  (function initTelegram() {
    const tg = window.Telegram?.WebApp;
    if (!tg) return;

    try {
      tg.ready();
      tg.expand();
      tg.enableVerticalSwipes?.();

      tg.setHeaderColor?.('#000000');
      tg.setBackgroundColor?.('#000000');
      tg.setBottomBarColor?.('#000000');
    } catch (e) {}
  })();


/* =========================================================
   FX Background Engine ‚Äî LIQUID EDGE TERMINAL v2
   ========================================================= */
(function FX() {
  const canvas = document.getElementById('fx');
  const ctx = canvas.getContext('2d');

  let W, H, DPR;
  let wavePhase = 0;
  let hue = 140;
  let mouseX = 0, mouseY = 0;

  const nums = [];
  const particles = [];
  let spawnTimer = 0;
  let ampPulse = 0;

  function resize() {
    DPR = Math.min(2, window.devicePixelRatio || 1);
    W = window.innerWidth;
    H = window.innerHeight;

    canvas.width = W * DPR;
    canvas.height = H * DPR;
    canvas.style.width = W + "px";
    canvas.style.height = H + "px";

    ctx.setTransform(1,0,0,1,0,0);
    ctx.scale(DPR, DPR);
  }
  resize();
  window.addEventListener("resize", resize);

  window.addEventListener("mousemove", e=>{
    mouseX = (e.clientX - W/2) * 0.02;
    mouseY = (e.clientY - H/2) * 0.02;
  });

  function drawBase(){
    ctx.fillStyle="#000";
    ctx.fillRect(0,0,W,H);
  }

  function drawEdgeGlow(dt){
    hue += dt * 0.002;

    const left = ctx.createLinearGradient(0,0,W*0.25,0);
    left.addColorStop(0, `hsla(${hue},100%,50%,0.25)`);
    left.addColorStop(1, "rgba(0,0,0,0)");

    const right = ctx.createLinearGradient(W,0,W*0.75,0);
    right.addColorStop(0, `hsla(${hue+180},100%,50%,0.18)`);
    right.addColorStop(1, "rgba(0,0,0,0)");

    ctx.globalCompositeOperation="screen";

    ctx.fillStyle = left;
    ctx.fillRect(0,0,W,H);

    ctx.fillStyle = right;
    ctx.fillRect(0,0,W,H);

    ctx.globalCompositeOperation="source-over";
  }

  function drawMarketLine(dt){
    wavePhase += dt * 0.001;
    ampPulse += dt * 0.0006;

    const midY = H*0.55;
    const baseAmp = H*0.05;
    const dynamicAmp = baseAmp + Math.sin(ampPulse)*H*0.015;

    ctx.save();
    ctx.globalCompositeOperation="screen";
    ctx.lineWidth=2.5;

    // glow
    ctx.shadowColor="rgba(0,255,136,0.8)";
    ctx.shadowBlur=18;

    ctx.strokeStyle="rgba(0,255,136,0.85)";
    ctx.beginPath();

    for(let x=0;x<=W;x+=10){
      const y = midY + Math.sin(wavePhase + x*0.01)*dynamicAmp;
      if(x===0) ctx.moveTo(x,y);
      else ctx.lineTo(x,y);
    }

    ctx.stroke();
    ctx.shadowBlur=0;
    ctx.restore();
  }

  function spawnNumber(){
    if(nums.length > 6) return;

    const isPlus = Math.random() > 0.35;
    const sign = isPlus ? "+" : "-";
    const value = (Math.random()*2).toFixed(2);

    nums.push({
      x: Math.random()*(W-150)+50,
      y: Math.random()*(H-150)+75,
      text: sign + value + "%",
      life: 0,
      vy: -0.02 + Math.random()*0.01,
      isPlus
    });
  }

  function drawNumbers(dt){
    spawnTimer += dt;

    if(spawnTimer > 1800){
      spawnNumber();
      spawnTimer = 0;
    }

    ctx.save();
    ctx.font="700 16px Inter";
    ctx.globalCompositeOperation="screen";

    for(let i=nums.length-1;i>=0;i--){
      const n = nums[i];
      n.life += dt;
      n.y += n.vy*dt;

      const alpha = Math.max(0,1-n.life/6000)*0.7;
      ctx.globalAlpha = alpha;

      if(n.isPlus){
        ctx.fillStyle="rgba(0,255,136,1)";
        ctx.shadowColor="rgba(0,255,136,0.8)";
      } else {
        ctx.fillStyle="rgba(255,60,60,1)";
        ctx.shadowColor="rgba(255,60,60,0.8)";
      }

      ctx.shadowBlur=14;
      ctx.fillText(n.text,n.x + mouseX*0.05,n.y + mouseY*0.05);
      ctx.shadowBlur=0;

      if(n.life>6000) nums.splice(i,1);
    }

    ctx.restore();
  }

  /* ===== PARTICLES ===== */

  function spawnParticle(){
    if(particles.length > 30) return;

    particles.push({
      x: Math.random()*W,
      y: Math.random()*H,
      size: Math.random()*2 + 0.5,
      life: 0,
      speed: 0.02 + Math.random()*0.05
    });
  }

  function drawParticles(dt){
    if(Math.random() > 0.96) spawnParticle();

    ctx.save();
    ctx.globalCompositeOperation="screen";

    for(let i=particles.length-1;i>=0;i--){
      const p = particles[i];
      p.life += dt;
      p.y -= p.speed*dt;

      const alpha = Math.max(0, 1 - p.life/6000)*0.4;
      ctx.globalAlpha = alpha;

      ctx.fillStyle="rgba(0,255,136,1)";
      ctx.beginPath();
      ctx.arc(p.x + mouseX*0.02, p.y + mouseY*0.02, p.size, 0, Math.PI*2);
      ctx.fill();

      if(p.life>6000) particles.splice(i,1);
    }

    ctx.restore();
  }

  function drawVignette(){
    const g = ctx.createRadialGradient(W/2,H/2,Math.min(W,H)*0.2,W/2,H/2,Math.max(W,H)*0.9);
    g.addColorStop(0,"rgba(0,0,0,0)");
    g.addColorStop(1,"rgba(0,0,0,0.6)");
    ctx.fillStyle=g;
    ctx.fillRect(0,0,W,H);
  }

  let last = performance.now();

  function loop(){
    const now = performance.now();
    const dt = now-last;
    last = now;

    drawBase();
    drawEdgeGlow(dt);
    drawMarketLine(dt);
    drawParticles(dt);
    drawNumbers(dt);
    drawVignette();

    requestAnimationFrame(loop);
  }

  loop();
})();  /* =========================================================
   Navigation Logic (REPLACE WHOLE BLOCK)
   ========================================================= */
(function Nav() {
  const container = document.querySelector('.container');
  const originalContent = container.innerHTML;

  // inject missing CSS for corporate secondary buttons (no need to edit <style>)
  (function injectNavStyles() {
    if (document.getElementById('nav-corp-style')) return;
    const s = document.createElement('style');
    s.id = 'nav-corp-style';
    s.textContent = `
      .btn-secondary{
        background: linear-gradient(135deg, rgba(255,255,255,.06), rgba(255,255,255,.02));
        border: 1px solid rgba(255,255,255,.14);
        box-shadow: 0 0 20px rgba(255,255,255,.06), inset 0 0 8px rgba(255,255,255,.04);
        backdrop-filter: blur(10px);
        -webkit-backdrop-filter: blur(10px);
        opacity: .96;
      }
      .btn-secondary:hover{
        box-shadow: 0 0 35px rgba(0,255,136,.18), inset 0 0 14px rgba(255,255,255,.08);
      }
      /* —á—É—Ç—å –±–æ–ª–µ–µ —Å—Ç—Ä–æ–≥–∏–µ –±–µ–π–¥–∂–∏ –¥–ª—è "–∫–æ—Ä–ø–æ—Ä–∞—Ü–∏–∏" */
      .pw-badge{ letter-spacing:.2px; }
    `;
    document.head.appendChild(s);
  })();

  function openAdmin() {
    const tg = window.Telegram?.WebApp;
    const link = 'https://t.me/clivx';
    try { tg?.HapticFeedback?.impactOccurred?.('light'); } catch (e) {}

    if (tg?.openTelegramLink) tg.openTelegramLink(link);
    else window.open(link, '_blank');
  }

  function goHome() {
    container.innerHTML = originalContent;
    bindButtons();
  }

  // Corporate Paywall (your current version)
  function showPaywall() {
    const tg = window.Telegram?.WebApp;
    try { tg?.HapticFeedback?.impactOccurred?.('medium'); } catch (e) {}

    container.innerHTML = `
      <div class="paywall">
        <div class="pw-top">
          <div>
            <div class="pw-title">–ö–æ—Ä–ø–æ—Ä–∞—Ç–∏–≤–Ω—ã–π –¥–æ—Å—Ç—É–ø –∫ —Å–∏–≥–Ω–∞–ª–∞–º</div>
            <div class="pw-sub">
              –ó–∞–∫—Ä—ã—Ç–∞—è —Å—Ä–µ–¥–∞ –¥–ª—è —É—á–∞—Å—Ç–Ω–∏–∫–æ–≤: –∞–Ω–∞–ª–∏—Ç–∏–∫–∞, —Ç–æ—á–∫–∏ –≤—Ö–æ–¥–∞/–≤—ã—Ö–æ–¥–∞, —Ä–∏—Å–∫-–∫–æ–Ω—Ç—Ä–æ–ª—å –∏ —Å–æ–ø—Ä–æ–≤–æ–∂–¥–µ–Ω–∏–µ.
            </div>
          </div>
        </div>

        <div class="pw-badges">
          <div class="pw-badge green">System Verified</div>
          <div class="pw-badge">Risk Control</div>
          <div class="pw-badge">24/7 Support</div>
          <div class="pw-badge red">Limited Access</div>
        </div>

        <div class="pw-card">
          <div style="font-size:13px; opacity:.92; line-height:1.45;">
            <b>–ß—Ç–æ –≤–∫–ª—é—á–µ–Ω–æ –≤ –ø–æ–¥–ø–∏—Å–∫—É</b>
          </div>

          <div class="pw-list">
            <div class="pw-li">
              <div class="pw-dot"></div>
              <div><b>–°–∏–≥–Ω–∞–ª—ã</b> —Å –ø–æ–Ω—è—Ç–Ω–æ–π –ª–æ–≥–∏–∫–æ–π: –≤—Ö–æ–¥, —Ü–µ–ª–∏, —Å—Ç–æ–ø, —Å—Ü–µ–Ω–∞—Ä–∏–π –≤—ã—Ö–æ–¥–∞.</div>
            </div>
            <div class="pw-li">
              <div class="pw-dot"></div>
              <div><b>–ï–∂–µ–¥–Ω–µ–≤–Ω–∞—è –∞–Ω–∞–ª–∏—Ç–∏–∫–∞</b> –∏ —Ä–∞–∑–±–æ—Ä —Å–∏—Ç—É–∞—Ü–∏–π –Ω–∞ —Ä—ã–Ω–∫–µ –±–µ–∑ ‚Äú–≤–æ–¥—ã‚Äù.</div>
            </div>
            <div class="pw-li">
              <div class="pw-dot"></div>
              <div><b>–ó–∞–∫—Ä—ã—Ç—ã–π –∫–ª—É–±</b> + —Å–æ–ø—Ä–æ–≤–æ–∂–¥–µ–Ω–∏–µ: –≤–æ–ø—Ä–æ—Å—ã, –∫–æ—Ä—Ä–µ–∫—Ç–∏—Ä–æ–≤–∫–∏, –¥–∏—Å—Ü–∏–ø–ª–∏–Ω–∞.</div>
            </div>
            <div class="pw-li">
              <div class="pw-dot"></div>
              <div><b>–ú–∞—Ç–µ—Ä–∏–∞–ª—ã –∏ –æ–±—É—á–µ–Ω–∏–µ</b> ‚Äî —Å–∏—Å—Ç–µ–º–Ω–æ, –ø–æ —à–∞–≥–∞–º, –ø–æ–¥ —Ä–µ–∑—É–ª—å—Ç–∞—Ç.</div>
            </div>
          </div>

          <div class="pw-foot">
            –î–æ—Å—Ç—É–ø –∞–∫—Ç–∏–≤–∏—Ä—É–µ—Ç—Å—è –ø–æ—Å–ª–µ –ø–æ–¥—Ç–≤–µ—Ä–∂–¥–µ–Ω–∏—è. –ú—ã —Å–æ—Ö—Ä–∞–Ω—è–µ–º —Å—Ç—Ä–æ–≥—É—é –º–æ–¥–µ—Ä–∞—Ü–∏—é ‚Äî —á—Ç–æ–±—ã –∫–∞—á–µ—Å—Ç–≤–æ —Å—Ä–µ–¥—ã –æ—Å—Ç–∞–≤–∞–ª–æ—Å—å –≤—ã—Å–æ–∫–∏–º.
          </div>
        </div>

        <div class="pw-actions">
          <button class="btn btn-cta" id="adminBtn">–ù–∞–ø–∏—Å–∞—Ç—å –∞–¥–º–∏–Ω–∏—Å—Ç—Ä–∞—Ç–æ—Ä—É</button>
          <button class="btn btn-ghost" id="backBtn">–ù–∞–∑–∞–¥</button>
        </div>
      </div>
    `;

    document.getElementById('adminBtn')?.addEventListener('click', openAdmin, { passive: true });
    document.getElementById('backBtn')?.addEventListener('click', goHome, { passive: true });
  }

  // NEW: Corporate "About" screen with –∫—Ä–∞—Å–∏–≤—ã–º–∏ –∫–Ω–æ–ø–∫–∞–º–∏
  function showAbout() {
    const tg = window.Telegram?.WebApp;
    try { tg?.HapticFeedback?.impactOccurred?.('light'); } catch (e) {}

    container.innerHTML = `
      <div class="paywall">
        <div class="pw-top">
          <div>
            <div class="pw-title">–û –∫–æ–º–ø–∞–Ω–∏–∏ TrdMax</div>
            <div class="pw-sub">
              –ü—Ä–µ–º–∏–∞–ª—å–Ω–∞—è –∞–Ω–∞–ª–∏—Ç–∏—á–µ—Å–∫–∞—è –ø–ª–∞—Ç—Ñ–æ—Ä–º–∞ —Å –∑–∞–∫—Ä—ã—Ç–æ–π —ç–∫–æ—Å–∏—Å—Ç–µ–º–æ–π —É—á–∞—Å—Ç–Ω–∏–∫–æ–≤ –∏ —Å–∏—Å—Ç–µ–º–Ω—ã–º –ø–æ–¥—Ö–æ–¥–æ–º –∫ —Ä–∏—Å–∫-–∫–æ–Ω—Ç—Ä–æ–ª—é.
            </div>
          </div>
        </div>

        <div class="pw-badges">
          <div class="pw-badge green">Operational</div>
          <div class="pw-badge">Research</div>
          <div class="pw-badge">Risk Framework</div>
          <div class="pw-badge">Private Community</div>
        </div>

        <div class="pw-card">
          <div style="font-size:13px; opacity:.92; line-height:1.45;">
            <b>–ü—Ä–∏–Ω—Ü–∏–ø—ã —Ä–∞–±–æ—Ç—ã</b>
          </div>

          <div class="pw-list">
            <div class="pw-li">
              <div class="pw-dot"></div>
              <div><b>–°–∏—Å—Ç–µ–º–Ω–æ—Å—Ç—å</b>: —Å—Ü–µ–Ω–∞—Ä–∏–∏, —É—Ä–æ–≤–Ω–∏, —Ü–µ–ª–∏ –∏ –∫–æ–Ω—Ç—Ä–æ–ª—å —Ä–∏—Å–∫–∞ ‚Äî –±–µ–∑ ‚Äú—É–≥–∞–¥–∞–π–∫–∏‚Äù.</div>
            </div>
            <div class="pw-li">
              <div class="pw-dot"></div>
              <div><b>–ö–∞—á–µ—Å—Ç–≤–æ —Å—Ä–µ–¥—ã</b>: —Å—Ç—Ä–æ–≥–∞—è –º–æ–¥–µ—Ä–∞—Ü–∏—è –¥–æ—Å—Ç—É–ø–∞, —á—Ç–æ–±—ã —Å–æ—Ö—Ä–∞–Ω—è—Ç—å —É—Ä–æ–≤–µ–Ω—å –∫–æ–º—å—é–Ω–∏—Ç–∏.</div>
            </div>
            <div class="pw-li">
              <div class="pw-dot"></div>
              <div><b>–ü–æ–¥–¥–µ—Ä–∂–∫–∞</b>: –±—ã—Å—Ç—Ä—ã–µ –æ—Ç–≤–µ—Ç—ã –∏ —Å–æ–ø—Ä–æ–≤–æ–∂–¥–µ–Ω–∏–µ –ø–æ –≤–æ–ø—Ä–æ—Å–∞–º –≤–Ω—É—Ç—Ä–∏ –ø–ª–∞—Ç—Ñ–æ—Ä–º—ã.</div>
            </div>
            <div class="pw-li">
              <div class="pw-dot"></div>
              <div><b>–ü—Ä–æ–∑—Ä–∞—á–Ω–æ—Å—Ç—å</b>: –ø–æ–Ω—è—Ç–Ω–∞—è –ª–æ–≥–∏–∫–∞ —Ä–µ—à–µ–Ω–∏–π –∏ –¥–∏—Å—Ü–∏–ø–ª–∏–Ω–∞ –∏—Å–ø–æ–ª–Ω–µ–Ω–∏—è.</div>
            </div>
          </div>

          <div class="pw-foot">
            TrdMax ‚Äî –ø—Ä–æ–¥—É–∫—Ç–æ–≤—ã–π –ø–æ–¥—Ö–æ–¥: –¥–∏–∑–∞–π–Ω, —Å—Ç–∞–±–∏–ª—å–Ω–æ—Å—Ç—å, —Ä–µ–≥–ª–∞–º–µ–Ω—Ç—ã –∏ –æ—Ç–≤–µ—Ç—Å—Ç–≤–µ–Ω–Ω–æ—Å—Ç—å –∑–∞ –∫–∞—á–µ—Å—Ç–≤–æ —Å–µ—Ä–≤–∏—Å–∞.
          </div>
        </div>

        <div class="pw-actions">
          <button class="btn btn-secondary" id="aboutSupportBtn">–ù–∞–ø–∏—Å–∞—Ç—å –≤ –ø–æ–¥–¥–µ—Ä–∂–∫—É</button>
          <button class="btn btn-ghost" id="aboutBackBtn">–ù–∞–∑–∞–¥</button>
        </div>
      </div>
    `;

    document.getElementById('aboutSupportBtn')?.addEventListener('click', openAdmin, { passive: true });
    document.getElementById('aboutBackBtn')?.addEventListener('click', goHome, { passive: true });
  }

  function bindButtons() {
    const buttons = document.querySelectorAll('.btn');
    const startBtn = buttons[0];
    const aboutBtn = buttons[1];
    const supportBtn = buttons[2];

    if (startBtn) startBtn.replaceWith(startBtn.cloneNode(true)); // remove old handlers

    const freshButtons = document.querySelectorAll('.btn');
    const freshStart = freshButtons[0];
    const freshAbout = freshButtons[1];
    const freshSupport = freshButtons[2];

    freshStart?.addEventListener('click', showPaywall, { passive: true });
    freshAbout?.addEventListener('click', showAbout, { passive: true });
    freshSupport?.addEventListener('click', openAdmin, { passive: true });
  }

  bindButtons();
})();
</script>
</body>
</html>
